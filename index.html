<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Blackjack: –®—É—Ä–∏–∫ vs –ö—É—Ä–∏—Ü–∞ Minimalist Mobile</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#1f2947" />
  <style>
    :root{--radius:12px;--shadow:0 24px 48px rgba(0,0,0,.3);--bg1:#1f2947;--bg2:#2f3d67;--accent:#ffd74f;--accent2:#ff9060;--text:#f0f2fa;--muted:#9aa2cc;--glass:rgba(255,255,255,0.05);--transition:.3s cubic-bezier(.33,.17,.22,1);}
    *{box-sizing:border-box;}
    html,body{margin:0;padding:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;background:linear-gradient(135deg,var(--bg1) 0%,var(--bg2) 90%);color:var(--text);-webkit-text-size-adjust:none;overflow-x:hidden;}
    body{min-height:100dvh; padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left); -webkit-font-smoothing:antialiased; -webkit-user-select:none;}
    .app{max-width:1024px;margin:0 auto;display:flex;flex-direction:column;gap:8px;position:relative;min-height:100dvh;}
    .top-bar{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:start;gap:6px;padding:6px 8px;}
    .title{display:flex;align-items:center;gap:6px;font-size:clamp(1.2rem,4vw,1.6rem);font-weight:700;line-height:1.1;}
    .subtitle{font-size:.65rem;color:var(--muted);margin-top:2px;flex:1 1 100%;}
    .game{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.08);border-radius:20px;display:flex;flex-direction:column;position:relative;overflow:hidden;margin:0 6px;flex:1;padding:12px;}
    .players{display:flex;gap:12px;margin-top:6px;}
    .panel{flex:1 1 0;display:flex;flex-direction:column;gap:6px;background:var(--glass);border:1px solid rgba(255,255,255,0.08);border-radius:16px;padding:10px;position:relative;}
    .badge{background:linear-gradient(135deg,var(--accent),var(--accent2));padding:5px 12px;border-radius:999px;font-size:.55rem;text-transform:uppercase;letter-spacing:1px;display:inline-block;}
    .flex{display:flex;align-items:center;gap:6px;}
    .score{font-size:1rem;font-weight:700;}
    .cards{display:flex;gap:-8px;margin-top:6px;min-height:90px;}
    .card{width:clamp(50px,16vw,72px);aspect-ratio:78/110;border-radius:12px;background:#fff;position:relative;display:flex;flex-direction:column;justify-content:space-between;padding:6px;font-size:12px;font-weight:600;color:#222;box-shadow:0 18px 48px rgba(0,0,0,.25);transform-origin:center;transition:transform var(--transition),filter .2s;will-change:transform;}
    .card .corner{display:flex;flex-direction:column;}
    .card .suit-large{font-size:26px;line-height:1;margin-top:4px;}
    .card.red{color:#d4477a;}
    .card.back{background: linear-gradient(135deg,#444c7a,#2a3259);color:#fff;}
    .controls{display:flex;gap:6px;flex-wrap:wrap;margin-top:4px;}
    button{display:flex;align-items:center;gap:6px;border:none;cursor:pointer;padding:10px 14px;border-radius:10px;font-weight:700;font-size:.75rem;background:rgba(255,255,255,.1);color:var(--text);position:relative;overflow:hidden;transition:filter .2s,transform .2s;backdrop-filter:blur(4px);}
    button svg{width:16px;height:16px;flex-shrink:0;}
    button:hover{filter:brightness(1.1);transform:translateY(-1px);}
    .btn-primary{background:var(--accent);color:#1b1427;}
    .btn-secondary{background:rgba(255,255,255,.08);}
    .message{margin-top:8px;background:rgba(255,255,255,0.06);padding:10px 14px;border-radius:12px;font-size:.75rem;display:inline-block;}
    .result-box{margin-top:8px;background:rgba(255,255,255,0.04);padding:10px 14px;border-radius:12px;font-size:.9rem;font-weight:600;min-height:34px;}
    .small{font-size:.55rem;}
    .chicken-wrapper{display:flex;align-items:flex-start;gap:8px;}
    .chicken{width:100px;height:125px;position:relative;flex-shrink:0;}
    .speech{position:absolute;top:-6px;left:100%;background:#fff3b8;padding:6px 12px;border-radius:12px;font-size:.65rem;color:#403d4f;font-weight:600;box-shadow:0 14px 34px rgba(0,0,0,.2);max-width:160px;}
    .footer{margin-top:8px;display:flex;flex-wrap:wrap;justify-content:space-between;font-size:.55rem;gap:6px;}
    .background-anim{position:absolute;inset:0;pointer-events:none;}
    .confetti{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden;}
    @media (max-width:900px){.players{flex-direction:column;} .top-bar{align-items:flex-start;} .subtitle{display:block;} }
    @media (max-width:600px){.title{font-size:1.3rem;} .subtitle{display:none;} .cards{gap:-4px;} .chicken{width:80px;height:100px;} .speech{top:auto;bottom:-8px;left:50%;transform:translateX(-50%);max-width:140px;} .panel{padding:8px;} button{padding:8px 12px;font-size:.65rem;} }
    .hidden{display:none;}
    /* light floating glow */
    .glow{position:relative;}
    .glow:before{content:'';position:absolute;inset:0;filter:blur(20px);background:radial-gradient(circle at 30% 30%,rgba(255,215,79,.4),transparent 70%);mix-blend-mode:overlay;border-radius:inherit;}
  </style>
</head>
<body>
  <div class="app" role="application" aria-label="Blackjack —Å –∫—É—Ä–∏—Ü–µ–π-–∫—Ä—É–ø—å–µ">
    <div class="top-bar">
      <div class="title">üÉè Blackjack –ú–∏–Ω–∏–º–∞–ª–∏–∑–º ‚Äî –®—É—Ä–∏–∫ vs –ö—É—Ä–∏—Ü–∞</div>
      <div class="subtitle">–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ —Ç–µ–ª–µ—Ñ–æ–Ω: –≤—Å—ë –≤–∏–¥–Ω–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ, —à—É—Ç–∫–∏, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å, –±—ã—Å—Ç—Ä—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏.</div>
    </div>
    <div class="game">
      <canvas class="background-anim" id="bg-canvas"></canvas>
      <div class="players">
        <div class="panel dealer-area" aria-label="–ö—Ä—É–ø—å–µ">
          <div class="flex" style="justify-content:space-between;">
            <div><div class="badge">–ö—Ä—É–ø—å–µ</div></div>
            <div class="chicken-wrapper">
              <div class="chicken" aria-label="–ö—É—Ä–∏—Ü–∞-–∫—Ä—É–ø—å–µ">
                <svg viewBox="0 0 160 180" width="100%" height="100%" aria-hidden="true">
                  <ellipse cx="80" cy="110" rx="50" ry="55" fill="#ffe699" />
                  <circle cx="80" cy="60" r="35" fill="#ffe699" />
                  <circle cx="68" cy="55" r="6" fill="#222" />
                  <circle cx="92" cy="55" r="6" fill="#222" />
                  <polygon points="80,70 70,80 90,80" fill="#ff9f43" />
                  <path d="M60,42 q10 -25 20 0 q10 -25 20 0 q10 -25 20 0" fill="#ff5f5f" />
                  <g class="wing" transform="translate(25,100)">
                    <ellipse cx="40" cy="10" rx="25" ry="40" fill="#fff3d9" />
                  </g>
                  <g class="wing" transform="translate(65,100) scale(-1,1)">
                    <ellipse cx="40" cy="10" rx="25" ry="40" fill="#fff3d9" />
                  </g>
                  <rect x="65" y="160" width="6" height="14" fill="#ff9f43" />
                  <rect x="89" y="160" width="6" height="14" fill="#ff9f43" />
                </svg>
                <div class="speech" id="chicken-speech">–ü—Ä–∏–≤–µ—Ç, –®—É—Ä–∏–∫! –ì–æ—Ç–æ–≤ –ø—Ä–æ–∏–≥—Ä–∞—Ç—å?</div>
              </div>
            </div>
          </div>
          <div class="small">–ö—Ä—É–ø—å–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: <span id="dealer-score">?</span></div>
          <div class="cards" aria-label="–ö–∞—Ä—Ç—ã –∫—Ä—É–ø—å–µ" id="dealer-cards"></div>
          <div class="result-box" id="dealer-result">&nbsp;</div>
        </div>
        <div class="panel player-area" aria-label="–ò–≥—Ä–æ–∫ –®—É—Ä–∏–∫">
          <div class="flex" style="justify-content:space-between;">
            <div><div class="badge">–ò–≥—Ä–æ–∫</div> <span style="margin-left:6px;font-weight:700;">–®—É—Ä–∏–∫</span></div>
            <div class="small">Hardmode</div>
          </div>
          <div class="score">–°—á—ë—Ç: <span id="player-score">0</span></div>
          <div class="cards" aria-label="–ö–∞—Ä—Ç—ã –∏–≥—Ä–æ–∫–∞" id="player-cards"></div>
          <div class="controls">
            <button id="btn-hit" class="btn-primary" aria-label="–í–∑—è—Ç—å –∫–∞—Ä—Ç—É"><svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M5 12h14"/></svg>–í–∑—è—Ç—å</button>
            <button id="btn-stand" class="btn-secondary" aria-label="–°—Ç–æ–ø"><svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 4h12v16H6z"/></svg>–°—Ç–æ–ø</button>
            <button id="btn-new" class="btn-primary" aria-label="–ù–æ–≤–∞—è –∏–≥—Ä–∞"><svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4v6h6M20 20v-6h-6"/><circle cx="12" cy="12" r="9"/></svg>–ù–æ–≤–∞—è</button>
          </div>
          <div class="result-box" id="player-result">&nbsp;</div>
        </div>
      </div>
      <div class="message" id="log">–ù–∞–∂–º–∏ ¬´–ù–æ–≤–∞—è¬ª, –®—É—Ä–∏–∫ ‚Äî –ø–æ–∫–∞–∂–∏ –∫—É—Ä–∏—Ü–µ, —á—Ç–æ –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–∫–∞—á–∫–∞. üéÆüêî</div>
      <div class="footer">
        <div>–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø: –≤—Å—ë –ø–æ–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ú–æ–ª–¥–∞–≤—Å–∫–∏–µ —à—É—Ç–∫–∏ + –≥–µ–π–º–µ—Ä—Å–∫–∏–µ –ø–æ–¥–∫–æ–ª—ã.</div>
        <div class="small">¬´»òuriku, dai la joc, nu la somn!¬ª</div>
      </div>
      <div class="confetti" id="confetti-container"></div>
    </div>
  </div>
  <template id="card-template">
    <div class="card">
      <div class="corner top"><div class="value"></div><div class="suit"></div></div>
      <div class="center suit-large"></div>
      <div class="corner bottom" style="transform: rotate(180deg);"><div class="value"></div><div class="suit"></div></div>
    </div>
  </template>
  <script>
    // mobile 100vh fix
    (function(){ function setVh(){document.documentElement.style.setProperty('--vh', window.innerHeight * 0.01 + 'px');} window.addEventListener('resize', setVh); setVh(); })();

    // Logic
    const suits=['‚ô†','‚ô•','‚ô¶','‚ô£'];
    const values=['A','2','3','4','5','6','7','8','9','10','J','Q','K'];
    let deck=[], playerHand=[], dealerHand=[], inRound=false;

    // Elements
    const playerCardsEl=document.getElementById('player-cards');
    const dealerCardsEl=document.getElementById('dealer-cards');
    const playerScoreEl=document.getElementById('player-score');
    const dealerScoreEl=document.getElementById('dealer-score');
    const logEl=document.getElementById('log');
    const playerResultEl=document.getElementById('player-result');
    const dealerResultEl=document.getElementById('dealer-result');
    const chickenSpeech=document.getElementById('chicken-speech');
    const confettiContainer=document.getElementById('confetti-container');

    document.getElementById('btn-new').addEventListener('click', startGame);
    document.getElementById('btn-hit').addEventListener('click', playerHit);
    document.getElementById('btn-stand').addEventListener('click', playerStand);

    function createDeck(){ const d=[]; for(const s of suits){ for(const v of values){ d.push({suit:s,value:v}); } } return d; }
    function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } return arr; }
    function computeBestScore(hand){ let total=0, aces=0; for(const c of hand){ if(c.value==='A'){ aces++; total+=11; } else if(['J','Q','K'].includes(c.value)){ total+=10; } else { total+=parseInt(c.value); } } while(total>21 && aces>0){ total-=10; aces--; } return total; }

    function renderCard(cardObj, hidden=false){ const tpl=document.getElementById('card-template'); const el=tpl.content.firstElementChild.cloneNode(true); if(hidden){ el.classList.add('back'); el.innerHTML=''; return el; } el.querySelectorAll('.value').forEach(x=>x.textContent=cardObj.value); el.querySelectorAll('.suit').forEach(x=>x.textContent=cardObj.suit); el.querySelector('.suit-large').textContent=cardObj.suit; if(cardObj.suit==='‚ô•' || cardObj.suit==='‚ô¶'){ el.classList.add('red'); } // –ª–µ–≥–∫–∏–π flip
      el.style.transform='rotateY(360deg)'; setTimeout(()=>{ el.style.transform='none'; },80); return el; }

    function dealCard(toPlayer=true, hidden=false){ if(deck.length===0) deck=shuffle(createDeck()); const card=deck.pop(); if(toPlayer){ playerHand.push(card); const c=renderCard(card,false); c.classList.add('deal-animate'); playerCardsEl.appendChild(c); } else { dealerHand.push(card); const c=hidden?renderCard(card,true):renderCard(card,false); c.classList.add('deal-animate'); dealerCardsEl.appendChild(c); } updateScores(); }
    function updateScores(){ playerScoreEl.textContent=computeBestScore(playerHand); let shown=[]; if(dealerCardsEl.children.length>0){ if(dealerCardsEl.children[1] && dealerCardsEl.children[1].classList.contains('back')) shown=[dealerHand[0]]; else shown=dealerHand; } dealerScoreEl.textContent=computeBestScore(shown); }
    function clearTable(){ playerHand=[]; dealerHand=[]; playerCardsEl.innerHTML=''; dealerCardsEl.innerHTML=''; playerResultEl.textContent=''; dealerResultEl.textContent=''; dealerScoreEl.textContent='?'; playerScoreEl.textContent='0'; }

    function startGame(){ inRound=true; clearTable(); deck=shuffle(createDeck()); dealCard(true); dealCard(true); dealCard(false); dealCard(false,true); showLog('–ù–æ–≤–∞—è –∏–≥—Ä–∞. –®—É—Ä–∏–∫, –ø–æ–∫–∞–∂–∏ –∫—É—Ä–∏—Ü–µ, —á—Ç–æ –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–∫–∞—á–∫–∞!'); chickenSay(randomLine('start')); }
    function playerHit(){ if(!inRound) return; dealCard(true); showLog('–®—É—Ä–∏–∫ –±–µ—Ä—ë—Ç –∫–∞—Ä—Ç—É... ' + randomLine('hit')); if(computeBestScore(playerHand)>21){ endRound('player-bust'); } }
    function playerStand(){ if(!inRound) return; showLog('–®—É—Ä–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è. –ö—É—Ä–∏—Ü–∞ –≥–æ—Ç–æ–≤–∏—Ç—Å—è...'); revealDealerHidden(); dealerPlay(); }
    function revealDealerHidden(){ if(dealerCardsEl.children[1] && dealerCardsEl.children[1].classList.contains('back')){ dealerCardsEl.children[1].replaceWith(renderCard(dealerHand[1],false)); } updateScores(); }
    function dealerPlay(){ let score=computeBestScore(dealerHand); while(score<17){ dealCard(false); score=computeBestScore(dealerHand); } setTimeout(()=>evaluateWinner(),300); }
    function evaluateWinner(){ const playerScore=computeBestScore(playerHand); const dealerScore=computeBestScore(dealerHand); if(dealerScore>21){ endRound('dealer-bust'); } else if(playerScore>21){ endRound('player-bust'); } else if(playerScore>dealerScore){ endRound('player-win'); } else if(playerScore<dealerScore){ endRound('dealer-win'); } else endRound('push'); }

    function endRound(reason){ inRound=false; const playerScore=computeBestScore(playerHand); const dealerScore=computeBestScore(dealerHand); let msg=''; switch(reason){ case 'player-bust': msg='–®—É—Ä–∏–∫ –ø–µ—Ä–µ–±—Ä–∞–ª ‚Äî –∫—É—Ä–∏—Ü–∞ –ª–∏–∫—É–µ—Ç!'; playerResultEl.textContent='–ü—Ä–æ–∏–≥—Ä—ã—à'; dealerResultEl.textContent='–ü–æ–±–µ–¥–∞'; break; case 'dealer-bust': msg='–ö—É—Ä–∏—Ü–∞ –ø–µ—Ä–µ–±—Ä–∞–ª–∞ ‚Äî –®—É—Ä–∏–∫ —Å–æ–∫—Ä—É—à–∞–µ—Ç!'; playerResultEl.textContent='–ü–æ–±–µ–¥–∞'; dealerResultEl.textContent='–ü—Ä–æ–∏–≥—Ä—ã—à'; break; case 'player-win': msg='–®—É—Ä–∏–∫ –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç!'; playerResultEl.textContent='–ü–æ–±–µ–¥–∞'; dealerResultEl.textContent='–ü—Ä–æ–∏–≥—Ä—ã—à'; break; case 'dealer-win': msg='–ö—É—Ä–∏—Ü–∞ –ø–æ–±–µ–∂–¥–∞–µ—Ç, –±–µ–π-–±–µ–≥–∏!'; playerResultEl.textContent='–ü—Ä–æ–∏–≥—Ä—ã—à'; dealerResultEl.textContent='–ü–æ–±–µ–¥–∞'; break; case 'push': msg='–ù–∏—á—å—è. –î–∞–∂–µ –∫—É—Ä–∏—Ü–∞ –≤ —à–æ–∫–µ.'; playerResultEl.textContent='–ù–∏—á—å—è'; dealerResultEl.textContent='–ù–∏—á—å—è'; break; } revealDealerHidden(); showLog(`${msg} (–®—É—Ä–∏–∫: ${playerScore}, –ö—É—Ä–∏—Ü–∞: ${dealerScore}) ` + randomLine(reason)); animateChickenReaction(reason); if(reason==='player-win' || reason==='dealer-bust') celebrateConfetti(); }
    function showLog(txt){ logEl.textContent=txt; }
    function chickenSay(text){ chickenSpeech.textContent=text; chickenSpeech.classList.add('shake'); setTimeout(()=>chickenSpeech.classList.remove('shake'),400); }
    function animateChickenReaction(reason){ const svg=document.querySelector('.chicken svg'); if(reason==='player-win' || reason==='dealer-bust'){ svg.classList.add('shake'); setTimeout(()=>svg.classList.remove('shake'),500); } else if(reason==='dealer-win' || reason==='player-bust'){ svg.style.filter='brightness(.9)'; setTimeout(()=>{ svg.style.filter=''; },400); } }

    // –§—Ä–∞–∑—ã
    function randomLine(context){ const lines={ 'start':["»òuriku, dai la joc! –ö—É—Ä–æ—á–∫–∞ –∂–¥—ë—Ç —Ç–≤–æ–∏—Ö —Ö–æ–¥–æ–≤.","–¢—ã –≤ –∏–≥—Ä–µ, –∫–∞–∫ –≤ —Ä–µ–π–¥–µ: –≤—Å—ë –∏–ª–∏ –Ω–∏—á–µ–≥–æ.","Hardmode –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω ‚Äî –Ω–µ –ø–æ–¥–≤–µ–¥–∏, —á–µ–º–ø–∏–æ–Ω!"], 'hit':["–ö—Ä–∏—Ç? –ò–ª–∏ –ª–∞–≥? –ë–µ—Ä—ë–º –µ—â—ë!","–≠—Ç–æ –∫–∞–∫ —á–µ–∫–ø–æ–∏–Ω—Ç: –µ—â—ë –ø–æ–ø—ã—Ç–∫–∞!","–©–∞—Å –±—É–¥–µ—Ç –ª—É—Ç-–±–æ–∫—Å ‚Äî –¥–µ—Ä–∂–∏—Å—å!","Ai noroc, sau doar skill?"], 'player-win':["GG WP! –ö—É—Ä–æ—á–∫–∞ –¥–∞–∂–µ –Ω–µ –æ–∂–∏–¥–∞–ª–∞.","–¢—ã —Å–ª–æ–º–∞–ª –µ—ë RNG, –®—É—Ä–∏–∫!","–ü—Ä–æ–∫–∞—á–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ."], 'dealer-win':["–ö—É—Ä–∏—Ü–∞ –≥–æ–≤–æ—Ä–∏—Ç: '–ú–æ–∂–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑, –®—É—Ä–∏–∫?'","–≠—Ç–æ –±—ã–ª —Ñ–µ–π–ª-–º–∞–≥–∏—è –∫—É—Ä–∏—Ü—ã.","Ai pierdut, dar nu te supƒÉra!"], 'push':["–ù–∏—á—å—è ‚Äî —Ä–µ—Ñ—Ä–µ—à–∏–º –∏ –∏–¥—ë–º —Å–Ω–æ–≤–∞.","–û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å–±–æ—Ä–∫–∏, –Ω–∏–∫—Ç–æ –Ω–µ —Å–¥–∞—ë—Ç—Å—è."] }; const arr=lines[context]||["–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –®—É—Ä–∏–∫..."]; return arr[Math.floor(Math.random()*arr.length)]; }

    // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
    function celebrateConfetti(){ const count = window.innerWidth < 600 ? 30 : 60; for(let i=0;i<count;i++){ const el=document.createElement('div'); el.style.position='absolute'; const size= Math.random()*8+5; el.style.width=size+'px'; el.style.height=size+'px'; el.style.backgroundColor=['#ffd74f','#ff6b6b','#7afcff','#9d7aff'][Math.floor(Math.random()*4)]; el.style.left=Math.random()*100+'%'; el.style.top='-10%'; el.style.opacity=1; el.style.borderRadius='3px'; el.style.pointerEvents='none'; confettiContainer.appendChild(el); const duration=1800+Math.random()*800; const endX=(Math.random()-0.5)*40; const fall=()=>{ const start=performance.now(); function frame(t){ const progress=(t-start)/duration; if(progress>=1){ el.remove(); return; } el.style.transform=`translate(${endX*progress}px, ${progress*110}vh) rotate(${progress*720}deg)`; el.style.opacity=1-progress; requestAnimationFrame(frame); } requestAnimationFrame(frame); }; setTimeout(fall, Math.random()*150); } }

    // Background particles
    const canvas=document.getElementById('bg-canvas'); const ctx=canvas.getContext('2d'); let particles=[]; function resizeCanvas(){ canvas.width=window.innerWidth; canvas.height=window.innerHeight; } window.addEventListener('resize', resizeCanvas); resizeCanvas();
    class Particle{ constructor(){ this.reset(); } reset(){ this.x=Math.random()*canvas.width; this.y=canvas.height + Math.random()*150; this.size= Math.random()*6+3; this.speedY= Math.random()*0.4+0.2; this.alpha= Math.random()*0.25+0.07; this.tilt=Math.random()*Math.PI*2; this.type=Math.random()<0.15? 'chip':'circle'; } update(){ this.y -= this.speedY; this.tilt += 0.015; if(this.y< -30) this.reset(); } draw(){ ctx.save(); ctx.globalAlpha=this.alpha; if(this.type==='chip'){ ctx.translate(this.x + Math.sin(this.tilt)*5, this.y); ctx.beginPath(); ctx.lineWidth=1.5; ctx.strokeStyle='rgba(255,255,255,0.12)'; ctx.arc(0,0,6,0,Math.PI*2); ctx.stroke(); ctx.fillStyle='rgba(255,215,79,0.08)'; ctx.fill(); ctx.font='7px system-ui'; ctx.textAlign='center'; ctx.fillStyle='rgba(255,255,255,0.35)'; ctx.fillText('‚Çµ',0,1); } else { ctx.fillStyle='rgba(255,255,255,0.05)'; ctx.beginPath(); ctx.arc(this.x + Math.sin(this.tilt)*3, this.y, this.size,0,Math.PI*2); ctx.fill(); } ctx.restore(); } }
    const initialCount = window.innerWidth < 600 ? 30 : 60; for(let i=0;i<initialCount;i++) particles.push(new Particle()); function animateBg(){ ctx.clearRect(0,0,canvas.width,canvas.height); particles.forEach(p=>{ p.update(); p.draw(); }); requestAnimationFrame(animateBg); } animateBg();

    // Shortcuts
    document.addEventListener('keydown', e=>{ if(e.key==='h'||e.key==='H') playerHit(); if(e.key==='s'||e.key==='S') playerStand(); if(e.key==='n'||e.key==='N') startGame(); });

    // Init
    showLog('–ñ–º–∏ ¬´–ù–æ–≤–∞—è¬ª, –®—É—Ä–∏–∫! –ú–∏–Ω–∏–º–∞–ª–∏–∑–º + –ø—Ä–æ–∫–∞—á–∫–∞.');
    setInterval(()=>{ const phrases=["–ö—É—Ä–∏—Ü–∞ —Å–ª–µ–¥–∏—Ç –∑–∞ —Ç–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏...","–ì–æ—Ç–æ–≤—å—Å—è –∫ —Ñ–ª–∏–ø—É","Ai noroc sau doar skill?"]; chickenSay(phrases[Math.floor(Math.random()*phrases.length)]); },10000);
  </script>
</body>
</html>
